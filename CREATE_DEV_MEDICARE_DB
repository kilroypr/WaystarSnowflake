/**
Creat Object Script to create all the database, schemas, tables, stages and file formats
for Medicare data processing

Create by: Robert Goss
Created on: 2021-06-21
Updated by: Miguel Rivera Caban on 2021-06-23
**/
USE ROLE ACCOUNTADMIN;
CREATE DATABASE DEV_MEDICARE_DB;
GRANT USAGE ON DATABASE DEV_MEDICARE_DB TO ROLE SYSADMIN;
GRANT CREATE SCHEMA, USAGE ON DATABASE DEV_MEDICARE_DB TO DEV_ARCH;

-- Grant Permissions
--USE ROLE DEV_ARCH;
--GRANT USAGE ON DATABASE DEV_MEDICARE_DB TO ROLE DEV_ANALYTICSETL;
--GRANT USAGE ON DATABASE DEV_MEDICARE_DB TO ROLE QA_ANALYTICSETL;
--GRANT USAGE ON DATABASE DEV_MEDICARE_DB TO ROLE PR_ANALYTICSETL;

-- Create Schemas
USE DATABASE DEV_MEDICARE_DB;
CREATE SCHEMA PREP;
CREATE SCHEMA ARCHIVE;
CREATE SCHEMA BASE;
CREATE SCHEMA ETL;
CREATE SCHEMA EXPLORE;				  


-- Create Stage
CREATE STAGE DEV_MEDICARE_DB.ETL.ETL_STAGE;

-- Create File Format
CREATE FILE FORMAT DEV_MEDICARE_DB.PREP.WAYSTAR_JSON
	TYPE = 'JSON' 
	COMPRESSION = 'AUTO' 
	ENABLE_OCTAL = FALSE 
	ALLOW_DUPLICATE = FALSE 
	STRIP_OUTER_ARRAY = FALSE 
	STRIP_NULL_VALUES = FALSE 
	IGNORE_UTF8_ERRORS = FALSE;


-- Low level access roles
USE ROLE SECURITYADMIN; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_PREP_READONLY		  			     ; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_PREP_CRUD						     ; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_PREP_READONLY TO ROLE useradmin; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_PREP_CRUD 	TO ROLE useradmin; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_PREP_CRUD 	TO ROLE SYSADMIN	 ; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_PREP_READONLY TO ROLE SYSADMIN     ; 
GRANT READ 	 ON ALL STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT READ 	 ON FUTURE STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON ALL TABLES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON FUTURE TABLES 		      			     IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON ALL VIEWS 	  		      			     IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON FUTURE VIEWS  		      			     IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON ALL EXTERNAL TABLES       			     IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT SELECT ON FUTURE EXTERNAL TABLES 	  			 IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON ALL TABLES    IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_CRUD;     
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON FUTURE TABLES IN SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_CRUD;     
GRANT ROLE _DEV_MEDICARE_DB_PREP_READONLY to  role _DEV_MEDICARE_DB_PREP_CRUD; 
USE ROLE ACCOUNTADMIN; 
GRANT USAGE ON DATABASE DEV_MEDICARE_DB to ROLE _DEV_MEDICARE_DB_PREP_READONLY; 
GRANT USAGE ON SCHEMA DEV_MEDICARE_DB.PREP TO ROLE _DEV_MEDICARE_DB_PREP_READONLY; 

USE ROLE SECURITYADMIN; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_ARCHIVE_READONLY		  			     ; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_ARCHIVE_CRUD						     ; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_ARCHIVE_READONLY TO ROLE useradmin; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_ARCHIVE_CRUD 	TO ROLE useradmin; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_ARCHIVE_CRUD 	TO ROLE SYSADMIN	 ; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_ARCHIVE_READONLY TO ROLE SYSADMIN     ; 
GRANT READ 	 ON ALL STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT READ 	 ON FUTURE STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON ALL TABLES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON FUTURE TABLES 		      			     IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON ALL VIEWS 	  		      			     IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON FUTURE VIEWS  		      			     IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON ALL EXTERNAL TABLES       			     IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT SELECT ON FUTURE EXTERNAL TABLES 	  			 IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON ALL TABLES    IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_CRUD;     
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON FUTURE TABLES IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_CRUD;     
GRANT ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY to  role _DEV_MEDICARE_DB_ARCHIVE_CRUD; 
USE ROLE ACCOUNTADMIN; 
GRANT USAGE ON DATABASE DEV_MEDICARE_DB to ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 
GRANT USAGE ON SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY; 

USE ROLE SECURITYADMIN; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_ETL_READONLY		  			     ; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_ETL_CRUD						     ; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_ETL_READONLY TO ROLE useradmin; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_ETL_CRUD 	TO ROLE useradmin; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_ETL_CRUD 	TO ROLE SYSADMIN	 ; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_ETL_READONLY TO ROLE SYSADMIN     ; 
GRANT READ 	 ON ALL STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT READ 	 ON FUTURE STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON ALL TABLES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON FUTURE TABLES 		      			     IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON ALL VIEWS 	  		      			     IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON FUTURE VIEWS  		      			     IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON ALL EXTERNAL TABLES       			     IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT SELECT ON FUTURE EXTERNAL TABLES 	  			 IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON ALL TABLES    IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_CRUD;     
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON FUTURE TABLES IN SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_CRUD;     
GRANT ROLE _DEV_MEDICARE_DB_ETL_READONLY to  role _DEV_MEDICARE_DB_ETL_CRUD; 
USE ROLE ACCOUNTADMIN; 
GRANT USAGE ON DATABASE DEV_MEDICARE_DB to ROLE _DEV_MEDICARE_DB_ETL_READONLY; 
GRANT USAGE ON SCHEMA DEV_MEDICARE_DB.ETL TO ROLE _DEV_MEDICARE_DB_ETL_READONLY; 

USE ROLE SECURITYADMIN; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_BASE_READONLY		  			     ; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_BASE_CRUD						     ; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_BASE_READONLY TO ROLE useradmin; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_BASE_CRUD 	TO ROLE useradmin; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_BASE_CRUD 	TO ROLE SYSADMIN	 ; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_BASE_READONLY TO ROLE SYSADMIN     ; 
GRANT READ 	 ON ALL STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT READ 	 ON FUTURE STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON ALL TABLES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON FUTURE TABLES 		      			     IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON ALL VIEWS 	  		      			     IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON FUTURE VIEWS  		      			     IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON ALL EXTERNAL TABLES       			     IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT SELECT ON FUTURE EXTERNAL TABLES 	  			 IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON ALL TABLES    IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_CRUD;     
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON FUTURE TABLES IN SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_CRUD;     
GRANT ROLE _DEV_MEDICARE_DB_BASE_READONLY to  role _DEV_MEDICARE_DB_BASE_CRUD; 
USE ROLE ACCOUNTADMIN; 
GRANT USAGE ON DATABASE DEV_MEDICARE_DB to ROLE _DEV_MEDICARE_DB_BASE_READONLY; 
GRANT USAGE ON SCHEMA DEV_MEDICARE_DB.BASE TO ROLE _DEV_MEDICARE_DB_BASE_READONLY; 

USE ROLE USERADMIN; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_EXPLORE_READONLY		  			     ; 
CREATE ROLE IF NOT EXISTS			      			    _DEV_MEDICARE_DB_EXPLORE_CRUD						     ; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_EXPLORE_READONLY TO ROLE useradmin; 
GRANT OWNERSHIP ON ROLE 			      			    _DEV_MEDICARE_DB_EXPLORE_CRUD 	TO ROLE useradmin; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_EXPLORE_CRUD 	TO ROLE SYSADMIN	 ; 
GRANT ROLE 							      			_DEV_MEDICARE_DB_EXPLORE_READONLY TO ROLE SYSADMIN     ; 
GRANT READ 	 ON ALL STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT READ 	 ON FUTURE STAGES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON ALL TABLES 	  		      			 IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON FUTURE TABLES 		      			     IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON ALL VIEWS 	  		      			     IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON FUTURE VIEWS  		      			     IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON ALL MATERIALIZED VIEWS    			     IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON FUTURE MATERIALIZED VIEWS 			     IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON ALL EXTERNAL TABLES       			     IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT SELECT ON FUTURE EXTERNAL TABLES 	  			 IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON ALL TABLES    IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_CRUD;     
GRANT INSERT, UPDATE, DELETE, TRUNCATE ON FUTURE TABLES IN SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_CRUD;     
GRANT ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY to  role _DEV_MEDICARE_DB_EXPLORE_CRUD; 
USE ROLE ACCOUNTADMIN; 
GRANT USAGE ON DATAEXPLORE DEV_MEDICARE_DB to ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 
GRANT USAGE ON SCHEMA DEV_MEDICARE_DB.EXPLORE TO ROLE _DEV_MEDICARE_DB_EXPLORE_READONLY; 

USE ROLE USERADMIN;

GRANT ROLE _DEV_MEDICARE_DB_PREP_CRUD TO ROLE DEV_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_PREP_CRUD TO ROLE QA_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_PREP_CRUD TO ROLE PR_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_BASE_CRUD TO ROLE DEV_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_BASE_CRUD TO ROLE QA_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_BASE_CRUD TO ROLE PR_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_ETL_READONLY TO ROLE DEV_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_ETL_READONLY TO ROLE QA_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_ETL_READONLY TO ROLE PR_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY TO ROLE DEV_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_BASE_READONLY TO ROLE DEV_ANALYTICSETL;

USE ROLE SECURITYADMIN;
GRANT INSERT ON ALL TABLES    IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE DEV_ANALYTICSETL;
GRANT INSERT ON ALL TABLES    IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE QA_ANALYTICSETL;
GRANT INSERT ON ALL TABLES    IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE PR_ANALYTICSETL;
GRANT INSERT ON FUTURE TABLES    IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE DEV_ANALYTICSETL;
GRANT INSERT ON FUTURE TABLES    IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE QA_ANALYTICSETL;
GRANT INSERT ON FUTURE TABLES    IN SCHEMA DEV_MEDICARE_DB.ARCHIVE TO ROLE PR_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_ARCHIVE_READONLY TO ROLE DEV_ANALYTICSETL;
GRANT ROLE _DEV_MEDICARE_DB_BASE_READONLY TO ROLE DEV_ANALYTICSETL;


GRANT ROLE _DEV_MEDICARE_DB_PREP_CRUD TO ROLE DEV_ARCH;
GRANT ROLE _DEV_MEDICARE_DB_BASE_CRUD TO ROLE DEV_ARCH;
GRANT ROLE _DEV_MEDICARE_DB_ETL_CRUD TO ROLE DEV_ARCH;
GRANT ROLE _DEV_MEDICARE_DB_EXPLORE_CRUD TO ROLE DEV_ARCH;
GRANT ROLE _DEV_MEDICARE_DB_ARCHIVE_CRUD TO ROLE DEV_ARCH;
